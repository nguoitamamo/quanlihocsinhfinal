{% extends 'admin/master.html' %}
{% block body %}

<!--<div class="h3 mt-3 ms-3">BÁO CÁO TỔNG KẾT MÔN HỌC</div>-->
<!--<form action="/admin/thongkeview/submit" method="post" class="container row " style="width: 60%">-->
<!--    <div class="col-auto">-->
<!--        <label class="" for="MonHoc">Môn học</label>-->
<!--        <select class="form-select" id="MonHoc" aria-label="Chọn môn học" style="width: auto" name="MonHoc">-->
<!--            <option selected>Chọn lớp</option>-->
<!--            {% for MH in danh_sach_mon_hoc %}-->
<!--            <option value="{{MH.MaMonHoc}}">Môn {{MH.TenMonHoc}}</option>-->
<!--            {% endfor %}-->
<!--        </select>-->
<!--    </div>-->
<!--    <div class="col-auto">-->
<!--        <label class="" for="HocKi">Năm học</label>-->
<!--        <select class="form-select" id="HocKi" aria-label="Chọn năm học" style="width: auto" name="HocKi">-->
<!--            <option selected>Chọn học kì</option>-->
<!--            {% for HK in danh_sach_hoc_ki %}-->
<!--            <option value="{{HK.MaHocKi}}">Học kì {{HK.TenHocKi}} năm {{HK.NamHoc}}</option>-->
<!--            {% endfor %}-->
<!--        </select>-->
<!--    </div>-->
<!--    <div class="col-auto mt-3">-->
<!--        <button type="submit" class="btn btn-primary">Submit</button>-->
<!--    </div>-->
<!--</form>-->
<!--<div class="container mt-3 ">-->
<!--    <table class="table border-2 border-dark" id="dataTable">-->
<!--        <thead>-->
<!--        <tr>-->
<!--            <td colspan="5" class="text-center h4 border-1">BÁO CÁO TỔNG KẾT MÔN HỌC</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--            <td colspan="3" class="text-center border-1">Môn: {{TenMonHoc}}</td>-->
<!--            <td colspan="2" class="text-center border-1">Học kì: Học kì {{TenHocKi}}</td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--            <td colspan="3" class="text-center border-1">Năm học: {{TenNamHoc}}</td>-->
<!--            <td colspan="2" class="text-center border-1"></td>-->
<!--        </tr>-->
<!--        <tr>-->
<!--            <th scope="col" class="text-center border-1">STT</th>-->
<!--            <th scope="col" class="text-center border-1">Lớp</th>-->
<!--            <th scope="col" class="text-center border-1">Sĩ số</th>-->
<!--            <th scope="col" class="text-center border-1">Số lượng đạt</th>-->
<!--            <th scope="col" class="text-center border-1">Tỷ lệ</th>-->
<!--        </tr>-->

<!--        </thead>-->
<!--        <tbody class="text-center border-1">-->
<!--        {% for lop in Lop %}-->
<!--        <tr>-->
<!--            <th scope="row">{{ lop[0]}}</th>-->
<!--            <td class="text-center border-1">{{ lop[1]}}</td>-->
<!--            <td class="text-center border-1">{{ lop[2]}}</td>-->
<!--            <td class="text-center border-1">{{ lop[3]}}</td>-->
<!--            <td class="text-center border-1">{{ lop[4]}}</td>-->
<!--        </tr>-->
<!--        {% endfor %}-->
<!--        </tbody>-->
<!--    </table>-->
<!--</div>-->
<div class="container my-4">
    <h3 class="mt-3 mb-4 text-center font-weight-bold">BÁO CÁO TỔNG KẾT MÔN HỌC</h3>
    <form action="/admin/thongkeview/submit" method="post" class="row justify-content-center">
        <div class="form-group col-md-4 mb-3">
            <label for="MonHoc" class="font-weight-bold">Môn học</label>
            <select class="form-control" id="MonHoc" name="MonHoc">
                <option selected disabled>Chọn môn học</option>
                {% for MH in danh_sach_mon_hoc %}
                    <option value="{{MH.MaMonHoc}}">Môn {{MH.TenMonHoc}}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group col-md-4 mb-3">
            <label for="HocKi" class="font-weight-bold">Năm học</label>
            <select class="form-control" id="HocKi" name="HocKi">
                <option selected disabled>Chọn học kỳ</option>
                {% for HK in danh_sach_hoc_ki %}
                    <option value="{{HK.MaHocKi}}">Học kỳ {{HK.TenHocKi}} - {{HK.NamHoc}}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group col-md-2 align-self-end">
            <button type="submit" class="btn btn-primary btn-block">Xem báo cáo</button>
        </div>
    </form>

    <div class="table-responsive mt-4">
        <table class="table table-bordered table-hover text-center" id="dataTable">
            <thead class="thead-dark">
                <tr>
                    <th colspan="5" class="h4">BÁO CÁO TỔNG KẾT MÔN HỌC</th>
                </tr>
                <tr>
                    <th colspan="3">Môn: {{TenMonHoc}}</th>
                    <th colspan="2">Học kỳ: {{TenHocKi}}</th>
                </tr>
                <tr>
                    <th colspan="5">Năm học: {{TenNamHoc}}</th>
                </tr>
                <tr>
                    <th scope="col">STT</th>
                    <th scope="col">Lớp</th>
                    <th scope="col">Sĩ số</th>
                    <th scope="col">Số lượng đạt</th>
                    <th scope="col">Tỷ lệ (%)</th>
                </tr>
            </thead>
            <tbody>
                {% for lop in Lop %}
                    <tr>
                        <td>{{ lop[0] }}</td>
                        <td>{{ lop[1] }}</td>
                        <td>{{ lop[2] }}</td>
                        <td>{{ lop[3] }}</td>
                        <td>{{ lop[4] }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
<div class="container row ">
    <canvas id="myChart"  class="col-6 border-1"></canvas>
<canvas id="myPieChart"  class="col-6 border-1"></canvas>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static',filename='js/thongke.js')}}"></script>
{% endblock %}
